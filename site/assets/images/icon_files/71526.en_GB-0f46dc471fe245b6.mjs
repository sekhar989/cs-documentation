"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[71526],{157796:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(667294),i=n(883119),a=n(785893);function l({color:e="red",duration:t,finalProgress:n,shape:l="pill"}){let[r,s]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=setTimeout(()=>{s(!0)},0);return()=>{clearTimeout(e)}},[]);let c="pill"===l;return(0,a.jsx)(i.xu,{color:e,height:c?8:6,rounding:c?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${r?"-5px":"-100%"})`:`scaleX(${r?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},100183:(e,t,n)=>{n.d(t,{CC:()=>i,Ll:()=>l,XF:()=>a});let o=(e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}),i=(e,t)=>o(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,l=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},780678:(e,t,n)=>{n.d(t,{Z:()=>i,v:()=>o});let o=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function i(){if(!o())return[];try{let e=await navigator.getInstalledRelatedApps();return e}catch(e){return[]}}},816068:(e,t,n)=>{n.d(t,{Z:()=>o});let o=e=>Math.floor(new Date(e).getTime()/1e3)},830269:(e,t,n)=>{n.d(t,{Z:()=>o});let o={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8}},553171:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(231486),i=n(226198),a=n(844974),l=n(966113),r=n(826067),s=n(643913),c=n(709113);let d="undefined"!=typeof window,_=d?`${window.location.origin}/oauth/line/redirect`:"",u=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,p=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==c.MM)return null;let n=(0,a.qn)(c.MM);return(0,a.L_)(c.MM),n};function g(e,t){let n;if(!d){var a;null===(a=t.error)||void 0===a||a.call(t,{message:"Window is undefined"});return}let c=function(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}(10),g=async e=>{if(!e.isTrusted)return;let a=e instanceof MessageEvent?u(e):p(e),l=(0,r.mB)(a);if(l.state&&l.code&&l.state===c){var d,m,h;n&&!n.closed&&n.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(o.U2(i.fS))}`},method:"POST",body:(0,s.Z)({code:l.code,redirect_uri:_})}),n=await e.json(),{id_token:a,access_token:r}=n;a&&r?t.success({line_id_token:a,line_access_token:r}):null===(d=t.error)||void 0===d||d.call(t,{message:"No tokens returned"})}catch(e){null===(m=t.error)||void 0===m||m.call(t,e)}finally{n&&!n.closed&&n.close(),window.removeEventListener("message",g),window.removeEventListener("storage",g),null===(h=t.complete)||void 0===h||h.call(t)}}};window.addEventListener("message",g),window.addEventListener("storage",g),n=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${l.zal}&redirect_uri=${encodeURIComponent(_)}&state=${c}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},467570:(e,t,n)=>{n.d(t,{GH:()=>s,JF:()=>b,Jb:()=>p,MI:()=>m,_V:()=>c,sl:()=>_,we:()=>u});var o=n(816068),i=n(186656),a=n(713930),l=n(935879),r=n(867820);let s="274266067164",c=()=>["public_profile","email","user_friends"],d=["picture.type(large)","id","first_name","last_name","email","gender"],_=e=>{e&&(0,r.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,r.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e?(0,r.dy)({event:"global_object_not_found",provider:"facebook"}):(0,r.My)("pcons.non_autologin.fb.global_object_not_found")},u=(e,t)=>{t&&(0,r.dy)({event:"load_script_start",provider:"facebook"});let n=(0,a.Z)((0,l.Z)(e),"FACEBOOK");return n.then(()=>_(t))},p=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),g=({userID:e,accessToken:t,data:{birthday:n,email:i,first_name:a,gender:l,last_name:r,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,o.Z)(n):void 0,email:i,first_name:a,gender:l,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:r});async function m(e){let t=await (0,i.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:d}}),n=t.resource_response.data||{};return(0,r.My)(n?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}let h=(e,t)=>new Promise((n,o)=>{if("connected"!==e.status){o({status:e.status||"unknown"});return}let{userID:i,accessToken:a}=e.authResponse;m(a).then(e=>{n({creds:{facebook_id:i,facebook_token:a,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:g({userID:i,accessToken:a,data:e})})},o)}),b=()=>new Promise(e=>{window.FB.login(e,{scope:c().join(",")})}).then(e=>h(e))},101331:(e,t,n)=>{n.d(t,{A:()=>_,Z:()=>d});var o=n(667294),i=n(112690),a=n(385740),l=n(780679),r=n(458882),s=n(957161),c=n(709113);function d(){let{trackConversionUpsellForContext:e}=(0,l.g)()||{},{trackConversionUpsellForContext:t}=(0,r.l)()||{},{viewType:n,viewParameter:o}=(0,a.SU)();return{trackConversionUpsell:({eventType:i,viewType:a,viewParameter:l,element:r,component:s,upsellReason:c,incrementUpsellReasonCounter:d})=>{let _=e||t;_&&_({eventType:i,viewType:a||n||202,viewParameter:l||o,element:r,component:s,upsellReason:c,incrementUpsellReasonCounter:d})}}}function _(){let e=(0,i.Z)(),t=(0,o.useRef)(null),n=()=>s.Z.getItem(c.w0)||0,a=()=>{s.Z.setItem(c.w0,n()+1)};return{trackConversionUpsellForContext:({eventType:o,viewType:i,viewParameter:l,element:r,component:d,upsellReason:_,incrementUpsellReasonCounter:u})=>{14688===o&&(s.Z.setItem(c.bg,_||""),t.current=d,!1!==u&&a()),e({event_type:o,view_type:i,view_parameter:l,element:r,component:t.current,aux_data:{upsell_reason:s.Z.getItem(c.bg)||null,upsell_view_count:n()}})}}}},144128:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(407043),i=n(773285),a=n(780280),l=n(619277),r=n(948376),s=n(160209),c=n(785893);function d({children:e,invite_code:t}){let{isAuthenticated:n,isBot:l,unauthId:c,userAgent:{platform:d,raw:_}}=(0,a.B)(),{logContextEvent:u}=(0,o.v)(),{checkExperiment:p}=(0,i.F)(),g=async(e,o,i)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:o}}),(0,s.Z)({isAuthenticated:n,checkExperiment:p,deeplinkUri:e,fallbackUrl:i,invite_code:t,logContextEvent:u,platform:d,redirectToLite:(0,r.Rp)({isBot:l,platform:d,userAgent:_}),unauthId:c,userAgent:_,app_upsell_type:o})};return e(g)}let _=e=>(0,c.jsx)(l.ty,{children:t=>(0,c.jsx)(d,{...e,invite_code:t})});_.displayName="DeepLinkNavigator";let u=_},63552:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(883119),i=n(785893);function a({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:a,rounding:l,fullWidth:r=!1,pressState:s="none",accessibilityLabel:c,role:d}){let _=(Array.isArray(s)?s:[s]).includes("compress");return(0,i.jsx)(o.iP,{fullWidth:r,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:a&&(({event:e})=>a(e)),rounding:l,tapStyle:_?"compress":"none",accessibilityLabel:c,role:d,children:e})}},872482:(e,t,n)=>{n.d(t,{D:()=>i,a:()=>a});var o=n(425288);let{Provider:i,useMaybeHook:a}=(0,o.Z)("unauthPageWrapperContext")},598615:(e,t,n)=>{n.d(t,{B:()=>m,Z:()=>h});var o=n(667294),i=n(616550),a=n(172071),l=n(407043),r=n(385740),s=n(53987),c=n(780280),d=n(867820),_=n(52022),u=n(938917),p=n(144128),g=n(785893);let m=(e,t)=>"/"===e.pathname?"/":(0,s.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function h({children:e,componentType:t,app_upsell_type:n}){let s=(0,i.useLocation)(),{flushContextEvents:h,logContextEvent:b}=(0,l.v)(),{viewType:f,viewParameter:w}=(0,r.SU)(),x=(0,_.Z)(),{userAgent:{platform:v}}=(0,c.B)();(0,o.useEffect)(()=>{x({action:"view",item:"download-button",within:n})},[s,n,x]);let y=(0,o.useRef)(!1);(0,o.useEffect)(()=>{f&&202!==f?(b({component:t||13106,element:10308,event_type:9976,view_type:f,view_parameter:w,aux_data:{app_upsell_type:n,app_upsell_is_dupe:y.current}}),y.current=!0):a.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:f,view_parameter:w,app_upsell_type:n,app_upsell_is_dupe:y.current})},[t,b,w,f,n]);let k=(0,u.Z)();return(0,o.useEffect)(()=>{k||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[k,n]),(0,g.jsx)(p.Z,{children:o=>e({handleOpenApp:e=>{if(x({action:"click",item:"download-button",within:n}),(0,d.NC)("press_open_app",!0),b({component:t||13106,element:10308,event_type:102,view_type:f||202,view_parameter:w,aux_data:{app_upsell_type:n}}),b({component:t||13106,element:10308,event_type:9977,view_type:f||202,view_parameter:w,aux_data:{app_upsell_type:n}}),h(!0),o){var i;b({component:t||13106,element:10308,event_type:1701,view_type:f||202,view_parameter:w,aux_data:{app_upsell_type:n}}),o(null!==(i=null==e?void 0:e.deepLinkUri)&&void 0!==i?i:m(s,"android"===v),n)}}})})}},938917:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(702664);let i=()=>(0,o.useSelector)(({session:{canUseNativeApp:e}})=>e)},948376:(e,t,n)=>{n.d(t,{G3:()=>d,Rp:()=>c,kp:()=>r});var o=n(202139),i=n(844974),a=n(339363);let l=14*o.F4,r=(e,t)=>{let n=function(){let e=Date.now(),t=Number((0,i.qn)("appUpsell")),n=Number((0,i.qn)("firstUpsellTime")),o=!!(0,a.qn)("showedAppUpsellCurrentSession");return{currentTime:e,firstUpsellTime:n,lastUpsellTime:t,showedAppUpsellCurrentSession:o}}();return e?function(e,t,n){let{currentTime:o,firstUpsellTime:a,lastUpsellTime:r,showedAppUpsellCurrentSession:s}=e;return(n=n||l,!a||o<a+t)?!s:o-r>n&&((0,i.L_)("firstUpsellTime"),!0)}(n,o.F4):function(e,t){let{currentTime:n,lastUpsellTime:o}=e;return t=t||l,!o||n-o>t}(n,t)},s=e=>{e=e.toLowerCase();let t=e.match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},c=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&7>parseFloat(s(n))}catch(e){return!1}},d=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},160209:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(172071),i=n(780678),a=n(826067);let l="http://play.google.com/store/apps/details?id=com.pinterest",r=["access_token","new_password","new_password_confirm","password","next"],s=(e,t)=>t?(0,a.ru)(e,{invite_code:t}):e,c=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?s(e,n):"ios"===t||"ipad"===t?s(e.iOS,n):"android"===t?s(e.android,n):null},d=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:o,unauthId:i,app_upsell_type:l})=>({deeplink_path:c(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:i,utm_source:140,utm_medium:2152,app_upsell_type:l,...o?{af_r:o}:null}),_=({deeplinkUri:e,invite_code:t,platform:n,unauthId:o,app_upsell_type:i})=>{let l=JSON.stringify({deeplink_path:c(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:o}),s=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:l,app_upsell_type:i});return{referrer:s}},u=({unauthId:e,app_upsell_type:t})=>{let n=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t});return{referrer:encodeURI(n)}},p=({isAuthenticated:e,checkExperiment:t,deeplinkUri:n,fallbackUrl:r,invite_code:s,logContextEvent:c,platform:p,redirectToLite:g,unauthId:m,userAgent:h,app_upsell_type:b})=>{null==c||c({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:b}});let f="https://pinterest.onelink.me/TVSr/21e04bfd",w=null==t?void 0:t(e?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group;switch(w){case"enabled_1":f="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":f="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":f="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":f="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":f="https://pinterest.onelink.me/TVSr/elsthgd7"}if(n){let w=d({isAuthenticated:e,deeplinkUri:n,fallbackUrl:r,invite_code:s,platform:p,unauthId:m,userAgent:h,app_upsell_type:b});if(o.Z.increment("mweb.deeplink",1,{platform:p}),s&&o.Z.increment("mweb.deeplink.invite_code",1),o.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:!!m}),g){o.Z.increment("mweb.deeplink.lite_link",1),null==c||c({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:b}});let e=u({unauthId:m,app_upsell_type:b});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===p){let e=_({deeplinkUri:n,invite_code:s,platform:p,unauthId:m,app_upsell_type:b});(0,i.v)()?(0,i.Z)().then(n=>{if(n.length>0){let e=(0,a.ru)(window.location.href,w),n=null==t?void 0:t("mweb_auth_deep_link_to_android_app_change").group;if("enabled_self"===n)window.open(e,"_self");else if("enabled_location"===n)window.location.href=e;else{null==c||c({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:b}});let t=window.open(e);t||null==c||c({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:b}})}}else null==c||c({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:b}}),window.location.href=(0,a.ru)(l,e)}).catch(()=>{o.Z.increment("mweb_android.deeplink.playStore.error",1)}):(null==c||c({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:b}}),window.location.href=(0,a.ru)(l,e))}else{if(o.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===p&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",w);return}null==c||c({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:b}}),window.location.href=(0,a.ru)(f,w)}}}},43186:(e,t,n)=>{n.d(t,{u:()=>h,Z:()=>f});var o=n(667294),i=n(616550),a=n(883119),l=n(56641),r=n(499128),s=n(898781),c=n(785893);function d(){return(0,c.jsx)("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,c.jsx)("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",id:"ï£¿",fill:"#FFFFFF",fillRule:"nonzero"})})})}var _=n(844974),u=n(867820),p=n(343341),g=n(529195),m=n(275926);let h="web_siwa_redirect_path",b="id_token=";function f(){let e=(0,s.ZP)(),t=(0,i.useLocation)(),n=(0,m.f)(),f=(0,i.useHistory)(),{showToast:w}=(0,p.F9)(),[x,v]=(0,o.useState)(!1),y=t.hash.indexOf(b),k=y>=0?t.hash.substring(y+b.length):null,j=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let o=async o=>{(0,u.My)("in_app_oauth.login.siwa.returned_with_token"),v(!0),n({apple_token:o},f,t.pathname,{noImmediateRedirect:!0},{event_type:7534,view_type:10}).then(()=>{v(!1),(0,u.My)("in_app_oauth.login.siwa.login_success");let e=(0,_.qn)(h);(0,_.L_)(h),(0,l.Z)(e||"/")}).catch(()=>{v(!1),(0,u.My)("in_app_oauth.login.siwa.login_failure"),w(({hideToast:t})=>(0,c.jsx)(r.ZP,{text:e.bt("Sorry. You do not have an account connected with Apple. Please try another method.", "Oops! You do not have an account connected with Apple. Please try another method.", "mweb.unauth.oauth_apple_login.login_failure_toast", undefined, true),onHide:t,type:"error"}))})};j.current!==k&&k&&o(k),j.current=k},[f,e,k,t,n,w]),x?(0,c.jsx)(a.$j,{accessibilityLabel:e.bt("Loading...", "Loading...", "Loading", undefined, true),show:!0}):(0,c.jsx)(a.iP,{onTap:()=>{var e;(0,u.My)("in_app_oauth.login.siwa_button.tapped");let n=(null===(e=t.state)||void 0===e?void 0:e.next)||(0,g.Yy)(t),o=n?decodeURIComponent(n):null;(0,_.Nh)(h,o),(0,l.Z)(`https://appleid.apple.com/auth/authorize?client_id=com.pinterest.signinwithapple&redirect_uri=${encodeURIComponent(window.location.origin.toString()+"/oauth/login")}&response_type=${encodeURIComponent("code id_token")}&response_mode=fragment`)},children:(0,c.jsxs)(a.xu,{height:40,width:"100%",display:"flex",alignItems:"center",color:"dark",rounding:"pill",paddingX:2,paddingY:1,children:[(0,c.jsx)(a.xu,{marginStart:-3,marginTop:-2,children:(0,c.jsx)(d,{})}),(0,c.jsx)(a.xu,{marginStart:"auto",marginEnd:"auto",children:(0,c.jsx)(a.xv,{weight:"bold",color:"light",children:e.bt("Continue with Apple", "Continue with Apple", "mweb.unauth.oauth_apple_login.login_button", undefined, true)})})]})})}},368095:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(667294),i=n(883119),a=n(121151),l=n(898781),r=n(867820),s=n(785893);function c({onDismiss:e}){let t=(0,l.ZP)();(0,o.useEffect)(()=>{(0,r.My)("unauth_mweb.login_rate_limited.view")},[]);let n=t.bt("Too many login attempts", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true);return(0,s.jsxs)(a.ZP,{accessibilityModalLabel:n,onDismiss:e,heading:(0,s.jsxs)(i.xu,{"data-test-id":"login-rate-limited-header",children:[(0,s.jsx)(i.xu,{justifyContent:"center",display:"flex",padding:6,children:(0,s.jsx)(i.JO,{icon:"pinterest",accessibilityLabel:t.bt("Pinterest logo", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"brandPrimary",size:40})}),(0,s.jsx)(i.X6,{align:"center",size:"500",accessibilityLevel:1,children:n})]}),children:[(0,s.jsx)(i.xu,{paddingX:12,marginTop:4,marginBottom:8,"data-test-id":"login-rate-limited-text",children:(0,s.jsx)(i.xv,{align:"center",children:t.bt("You have reached the maximum number of login attempts. Try again in 30 minutes.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,s.jsx)(i.xu,{paddingX:12,marginBottom:8,"data-test-id":"login-rate-limited-footer",children:(0,s.jsx)(i.zx,{fullWidth:!0,color:"red",text:t.bt("OK", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true),onClick:e})})]})}},172351:(e,t,n)=>{n.d(t,{Z:()=>q});var o=n(667294),i=n(702664),a=n(616550),l=n(883119),r=n(204324),s=n(112690),c=n(989392),d=n(499128),_=n(558068),u=n(898781),p=n(584595),g=n(432300),m=n(45169),h=n(830269),b=n(773285),f=n(780280),w=n(957161),x=n(867820),v=n(52022),y=n(101331),k=n(343341),j=n(50286),C=n(19121),A=n(962482),P=n(63552),L=n(43186),Z=n(467570),z=n(107287),S=n(785893);function E({onFacebookConnectError:e,onFacebookConnectSuccess:t,onTouch:n,isRerequest:i}){let a=(0,u.ZP)(),{checkExperiment:r}=(0,b.F)(),{locale:s}=(0,f.B)(),{anyEnabled:c}=r("mweb_facebook_disabled"),[d,_]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{c||((0,Z.we)(s).then(()=>{_(!0)}),(0,x.My)("pcons.facebook_connect_button_renderd"))},[s,c]),(0,S.jsxs)(l.xu,{position:"relative","data-test-id":"FacebookConnectContainer",children:[(0,S.jsx)(l.xu,{bottom:!0,left:!0,right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",rounding:5,children:(0,S.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":"continue_with","data-layout":"rounded","data-show-faces":"false","data-auth-type":i?"rerequest":void 0,"data-scope":(0,Z._V)().join(","),"data-auto-logout-link":"false","data-use-continue-as":r("mweb_unauth_remove_fb_signup").anyEnabled?void 0:"true"})}),(0,S.jsxs)("button",{onClick:()=>{(0,x.My)("unauth_mweb.facebook_connect.button_click"),(0,x.EX)({event:"start",provider:"facebook"}),null==n||n(),c?g(!0):d&&(0,Z.JF)().then(({creds:e,signupOptions:n})=>{t(e,n)},e)},style:{display:"flex",alignItems:"center",backgroundColor:"#1877F2",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",minWidth:"240px",borderRadius:"20px",padding:"0px 0px 0px 8px"},type:"button","data-test-id":"FacebookConnectButton",children:[(0,S.jsx)(l.xu,{color:"default",rounding:3,dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px",marginLeft:"4px",marginRight:"4.4px"}},children:(0,S.jsx)(l.JO,{accessibilityLabel:a.bt("Facebook", "facebook", "accessible label for facebook icon", undefined, true),color:"shopping",icon:"facebook",inline:!0,size:19})}),(0,S.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",flex:"grow",marginEnd:1,children:(0,S.jsx)("span",{style:{fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"8px",letterSpacing:"0.25px"},children:a.bt("Continue with Facebook", "Continue with Facebook", "Login page button", undefined, true)})})]}),p&&(0,S.jsx)(z.Z,{type:"facebook",onDismiss:()=>g(!1)})]})}var M=n(553171);let T={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#00C300",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",borderRadius:"20px",padding:"0px 0px 0px 8px"},lineLogo:{borderRadius:"12px",backgroundColor:"#00C300",width:"32px",height:"32px"},buttonText:{fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"33px"}},B=({buttonText:e,onLineConnectSuccess:t,onLineConnectError:n,onTouch:o})=>{let i=(0,u.ZP)(),{locale:a}=(0,f.B)(),r={success:e=>{let{line_id_token:n,line_access_token:o}=e;n&&o&&t({line_id_token:n,line_access_token:o},{line_id_token:n,line_access_token:o,type:"line"})},error:n},s=T.defaultButton;return(0,S.jsx)(l.xu,{position:"relative","data-test-id":"LineConnectContainer",children:(0,S.jsxs)("button",{onClick:()=>{(0,x.My)("unauth_mweb.line_connect.button_click"),o&&o(),(0,M.Z)(a,r)},style:s,type:"button","data-test-id":"line-connect-button",children:[(0,S.jsx)("img",{style:T.lineLogo,src:"https://s.pinimg.com/webapp/btn_base-a34b3f23.png",alt:i.bt("line", "line", "accessible label for line icon", undefined, true)}),(0,S.jsx)(l.kC,{alignItems:"center",justifyContent:"center",flex:"grow",children:(0,S.jsx)("span",{style:T.buttonText,children:e})})]})})};var F=n(368095),O=n(160561),R=n(155949),U=n(872482),I=n(275926),N=n(122485),D=n(639952),$=n(53987),W=n(598615);function H({app_upsell_type:e}){let t=(0,u.ZP)(),n=(0,a.useLocation)(),{userAgent:{platform:o}}=(0,f.B)(),{pathname:i}=n;return(0,S.jsx)(l.xu,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,S.jsx)(W.Z,{componentType:13858,app_upsell_type:null!=e?e:"unauth-signup-modal",children:({handleOpenApp:a})=>(0,S.jsx)(l.zx,{text:t.bt("Get Pinterest app", "Get Pinterest App", "unauth.modal.get_app.button_text", undefined, true),color:"red",fullWidth:!0,onClick:()=>{(0,x.My)("homepage_top_module"===e?"mweb.unauth.homepage.top.download_app_button.click":"homepage_bottom_module"===e?"mweb.unauth.homepage.bottom.download_app_button.click":"mweb.unauth.signup_modal.download_app_button.click"),i&&a({deepLinkUri:"/"===i?"/":(0,$.cD)(n)&&("ios"===o||"ipad"===o)?"user"+i:i.substr(1)})}})})})}var X=n(709113),G=n(597897);function q({apple:e,facebook:t,fbConnectHandler:n,footer:Z,from:z,google:M,isBusiness:T,isRerequest:$,line:W,next:q="/",noImmediateRedirect:K,disableFBSignup:V,onFacebookTouch:J,onLoginTouch:Y,onSignupTouch:Q,showAppInstallButton:ee,showEmailButton:et,showTextDivider:en,viewParameter:eo,app_upsell_type:ei,attributionLabel:ea,setShowLoginPageCallout:el,isMobileNoPersonalizedLogin:er}){var es;let ec=(0,a.useHistory)(),ed=(0,a.useLocation)(),{country:e_}=(0,f.B)(),eu=(0,u.ZP)(),{showToast:ep}=(0,k.F9)(),eg=(0,s.Z)(),em=(0,v.Z)(),eh=(0,i.useDispatch)(),eb=(0,I.f)(),ef=(0,G.U)(),{flush:ew}=(0,b.F)(),ex=(0,N.m)(),ev=(0,r.Z)(),{isAuth:ey,isLimitedLogin:ek}=(0,C.Z)(),ej=(0,j.ml)(),eC=(0,j.Wb)(),{checkExperiment:eA}=(0,b.F)(),[eP,eL]=(0,o.useState)(null),[eZ,ez]=(0,o.useState)(!1),[eS,eE]=(0,o.useState)("default"),{setShouldShowGoogleButtonModal:eM}=null!==(es=(0,U.a)())&&void 0!==es?es:{},{trackConversionUpsell:eT}=(0,y.Z)(),{previous:eB}=(0,_.Hv)(),eF=(0,f.B)(),eO=!!w.Z.getItem(X.V6)&&eF.experimentsClient.checkExperiment("pcons_last_logged_in").anyEnabled,eR="facebook"===eS&&5e3||"google"===eS&&4e3||void 0;(0,o.useEffect)(()=>{if(ef){var e,t;Z&&(null===(e=ef.preload)||void 0===e||e.call(ef,new URL("login.js","file://"))),et&&(null===(t=ef.preload)||void 0===t||t.call(ef,new URL("signup.js","file://")))}},[]);let eU=(ej||eC)&&!ey&&eA("mweb_ssr_unauth_home_page_v2").anyEnabled&&!1,eI=ey?{login_state:ek?g.Z.LIMITED:g.Z.DEFAULT}:Object.freeze({}),eN=e=>{eg({view_type:10,view_parameter:eo,element:e,event_type:102,aux_data:eI})},eD=e=>{eT({viewType:10,viewParameter:eo,eventType:14689,element:e})},e$=(e,t)=>{let n,o;switch(t){case"facebook":n=3205,o=h.Z.FACEBOOK;break;case"google":n=3204,o=h.Z.GPLUS;break;case"line":n=3556,o=h.Z.LINE}return{event_type:e,view_type:10,view_parameter:n,element:o===h.Z.GPLUS?12981:void 0,aux_data:{...eI,signup_login_method:o}}},eW=(e,t,n,o)=>{eL(null);let i=()=>ep(({hideToast:e})=>(0,S.jsx)(d.ZP,{text:t&&t.api_error_code&&t.message?t.message:eu.bt("Sorry, we can't log you in.", "Sorry, we can't log you in.", "Error message when user having trouble login in.", undefined, true),onHide:e}));if(t){(0,x.My)(`unauth_mweb.login_error.api_error_code.${String(t.api_error_code)}`);let e=[p.xN].includes(t.api_error_code)&&er&&"google"===n.type&&eA("mweb_google_button_no_default_signup").anyEnabled;if([p.xN,p.lg,p.Pv].includes(t.api_error_code)){if(e){let e=eA("mweb_google_button_no_default_signup").group;"enabled_error"===e?((0,x.My)("mweb.google_button_no_signup.show_error"),null==el||el(!0)):"enabled_modal"===e&&(null==eM||eM(!0),(0,x.My)("mweb.google_button_modal.show"),eB.length>0&&ec.go(-1))}else{if("facebook"===n.type&&eA("mweb_unauth_remove_fb_signup").anyEnabled){null==V||V();return}(0,x.Rp)({event:"start",provider:o}),"facebook"!==n.type||n.email?(()=>{(0,x.My)("unauth_mweb.facebook_signup_attempt"),n.gender||(0,x.My)("unauth_mweb.facebook_signup_attempt.nogender");let{birthday:e}=n;if(void 0===e||!(0,c.Z)(e)){ew(),ec.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:"facebook"===n.type?{...n,email_source_site:m.E_.FACEBOOK}:n,progressBarAnimationDuration:eR},attributionLabel:ea});return}eL("signup"),eE(o);let t="facebook"===n.type?{...n,email_source_site:m.E_.FACEBOOK,birthday_source_site:m.E_.FACEBOOK,birthday:e}:{...n,birthday:e};(0,x.Rp)({event:"signup_api_call_start",provider:o}),ex(t,{signupAttemptContextEvent:e$(7537,o)}).then(()=>{(0,x.NC)("signup_via_login_buttons"),(0,x.Rp)({event:"signup_api_call_success",provider:o}),["facebook","google"].includes(o)&&ev(q||"/"),eL(null)},e=>{(0,x.Rp)({event:"signup_api_call_failure",provider:o}),"line"===n.type&&(e.api_error_code===p.iZ?ec.push({pathname:"/signup/line-email-collect/",state:{signupOptions:n},attributionLabel:ea}):e.api_error_code===p.NF&&ec.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:n},attributionLabel:ea})),ep(({hideToast:t})=>(0,S.jsx)(d.ZP,{text:e.api_error_code&&e.message?e.message:eu.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "Error logging on", undefined, true),onHide:t})),eL(null)})})():(ec.push({pathname:"/signup/fbemailcollect/",state:{signupOptions:n},attributionLabel:ea}),(0,x.My)("unauth_mweb.reg_via_fb.has_email_perm.false"))}}else p.ik.includes(t.api_error_code)&&ez(!0);e||i()}else(0,x.My)("unauth_mweb.login.unexpected_error"),i()},eH=e=>(t,o)=>{var i;let a="google"===e?"gsi_btn":"other",l=(null===(i=ed.state)||void 0===i?void 0:i.switch_account)==="true"?{isSwitchAccount:!0,trigger:a}:{noImmediateRedirect:K,trigger:a};"facebook"===e&&(null==n||n("success"),(0,x.EX)({event:"receive_credential_response_from_provider",provider:e})),(0,x.NC)(e+"_login_success"),eb(t,ec,q,l,e$(7534,e)).catch(n=>{eW(t,n,o,e)}),eL("login"),eE(e)},eX=({event:e})=>{e.stopPropagation(),e.preventDefault(),null==Y||Y(),z&&eh((0,D.rm)(z)),em({action:"click",item:"login-button"}),eN(30),(0,x.My)(`unauth_mweb.login_buttons.footer.${(null==Z?void 0:Z.type)||"button"}`),(0,x.NC)("press_login"),eT({eventType:14689,element:30,viewType:10,viewParameter:eo}),eT({eventType:14688,component:14213,upsellReason:ea,incrementUpsellReasonCounter:!1}),ec.push({pathname:T?"/business/login/":"/login/",search:ed.search,state:{next:q,attributionLabel:ea}})};return(0,S.jsxs)(l.xu,{marginTop:T?-5:0,maxWidth:400,marginStart:"auto",marginEnd:"auto","data-test-id":"LoginButtonsContainer",children:[eZ&&(0,S.jsx)(F.Z,{onDismiss:()=>ez(!1)}),en&&(0,S.jsx)(l.xu,{marginBottom:3,marginTop:3,children:(0,S.jsx)(l.xv,{align:"center",size:"100",weight:"bold",children:eu.bt("Or", "OR", "Separator for email login button and social login button", undefined, true)})}),(0,S.jsx)(l.xu,{marginBottom:eO?0:6,children:(0,S.jsxs)(o.Fragment,{children:[ee&&(0,S.jsx)(H,{app_upsell_type:ei}),et&&(eU?(0,S.jsx)(l.xu,{marginBottom:2,children:(0,S.jsx)(l.$j,{accessibilityLabel:eu.bt("Login buttons loading", "Login buttons loading", "unauth.login_buttons.loading_spinner.home_page", undefined, true),show:!0})}):(0,S.jsx)(l.xu,{"data-test-id":"continue-email-button",marginBottom:T?-2:2,children:(0,S.jsx)(l.zx,{fullWidth:!0,color:ee?"gray":"red",text:T?eu.bt("Create account", "Create account", "Button text for creating a business account", undefined, true):eu.bt("Continue with email", "Continue with email", "Sign up button", undefined, true),onClick:({event:e})=>{e&&(e.stopPropagation(),e.preventDefault()),(0,x.NC)("press_email_signup"),(0,x.Rp)({event:"start",provider:"email"}),em({action:"click",item:"email-signup-button"}),null==Q||Q(),z&&eh((0,D.rm)(z)),eD(13506),eN(31),eT({eventType:14688,component:14215,upsellReason:ea,incrementUpsellReasonCounter:!1}),ec.push({pathname:T?"/business/signup/step1/":"/signup/step1/",search:ed.search,state:{next:q,attributionLabel:ea}})}})})),t&&(eU?(0,S.jsx)(l.xu,{marginBottom:2,height:40}):(0,S.jsx)(l.xu,{marginBottom:eO?1:2,"data-test-id":"facebook-connect-button",children:(0,S.jsx)(E,{onFacebookConnectError:()=>{null==n||n("error"),(0,x.EX)({event:"receive_no_credential_response_from_provider",provider:"facebook"}),ep(({hideToast:e})=>(0,S.jsx)(d.ZP,{text:eu.bt("Unable to connect to Facebook", "Unable to connect to Facebook", "Error logging on with Facebook", undefined, true),onHide:e}))},onFacebookConnectSuccess:eH("facebook"),onTouch:()=>{null==J||J(),eD(13505),em({action:"click",item:"facebook-connect-button"}),eN(68)},isRerequest:$})})),M&&(0,S.jsx)(l.xu,{marginBottom:eO?0:2,"data-test-id":"google-connect-button",children:(0,S.jsx)(O.Z,{onGoogleConnectSuccess:eH("google"),onTouch:()=>{eD(13504),(0,x.My)(`mweb.google_continue_button_click.${null!=ea?ea:""}`)}})}),W&&"JP"===e_&&(eU?(0,S.jsx)(l.xu,{marginBottom:2,height:40}):(0,S.jsx)(l.xu,{marginBottom:2,"data-test-id":"line-connect-button",children:(0,S.jsx)(B,{buttonText:eu.bt("Continue with LINE", "Continue with LINE", "Login page button", undefined, true),onLineConnectError:()=>{ep(({hideToast:e})=>(0,S.jsx)(d.ZP,{text:eu.bt("Unable to connect to LINE", "Unable to connect to Line", "Error logging on with Line", undefined, true),onHide:e}))},onLineConnectSuccess:eH("line"),onTouch:()=>{eD(13507),eN(12277),em({action:"click",item:"line-connect-button"})}})})),e&&(eU?(0,S.jsx)(l.xu,{marginBottom:2,height:40}):(0,S.jsx)(l.xu,{marginBottom:2,"data-test-id":"apple-connect-button",children:(0,S.jsx)(L.Z,{})}))]})}),Z&&("member_link"===Z.type?(0,S.jsx)(l.xu,{marginTop:-4,"data-test-id":"login-member",children:(0,S.jsx)(P.Z,{pressState:"none",onTouch:e=>eX({event:e}),children:(0,S.jsx)(l.xu,{paddingY:Z.noPadding?0:4,marginBottom:Z.increasedSpaceBelow?-1:-2,children:(0,S.jsx)(l.xv,{align:"center",size:"200",weight:"bold",color:Z.textColorIsLight?"light":"dark",children:ej&&eA("pcons_mweb_sign_in_copy").anyEnabled?eu.bt("Already a member? Sign in", "Already a member? Sign in", "unauth.sign_in.text.home_page", undefined, true):eu.bt("Already a member? Log in", "Already a member? Log in", "Link on mobile web sign up modal to direct unauth users to the login page", undefined, true)})})})}):(0,S.jsx)(l.xu,{marginBottom:5,"data-test-id":"login-button",children:(0,S.jsx)(l.zx,{fullWidth:!0,color:"transparent",onClick:eX,text:eu.bt("Log in", "Log in", "Login page button", undefined, true)})})),eP&&("signup"===eP?(0,S.jsx)(R.Z,{progressBarAnimationDuration:eR}):(0,S.jsx)(A.Z,{}))]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/71526.en_GB-0f46dc471fe245b6.mjs.map